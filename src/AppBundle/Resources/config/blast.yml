# Copyright (C) 2015-2016 Libre Informatique
#
# This file is licenced under the GNU GPL v3.
# For the full copyright and license information, please view the LICENSE
# file that was distributed with this source code.

parameters:
    blast:

############
# VARIETY
############

        AppBundle\Admin\VarietyAdminConcrete:
            Sonata\AdminBundle\Show\ShowMapper:
                add:
                    _helper_links:
                        - url: https://framacalc.org/libio_validation_varietes
                          title: Framacalc de validation (Variétés)
                          class: framacalc
            Sonata\AdminBundle\Form\FormMapper:
                add:
                    _helper_links:
                        - url: https://framacalc.org/libio_validation_varietes
                          title: Framacalc de validation (Variétés)
                          class: framacalc
            Sonata\AdminBundle\Datagrid\ListMapper:
                add:
                    _helper_links:
                        - url: https://framacalc.org/libio_validation_varietes
                          title: Framacalc de validation (Variétés)
                          class: framacalc
            Sonata\AdminBundle\Datagrid\DatagridMapper:
                add: ~

################
# SEEDS PRODUCT
################

        AppBundle\Admin\SeedsProductAdmin:
            Sonata\AdminBundle\Show\ShowMapper:
                add: ~
            Sonata\AdminBundle\Form\FormMapper:
                add:
                    form_group_general:
                        '':
                            variety:
                                type: sonata_type_model_autocomplete
#                                route: { name: searchable_admin_retrieve_autocomplete_items }
                                by_reference: false
                                property: name
                                _options:
                                    admin_code: librinfo_varieties.admin.variety
                            weight:
                                type: integer
                            _options:
                                fieldsOrder: [variety, weight]

            Sonata\AdminBundle\Datagrid\ListMapper:
                remove: [name]
                add:
                    code:
                        label: libio.label.product_code
                        identifier: true
                    variety:
                        admin_code: librinfo_varieties.admin.variety
                    _options:
                        fieldsOrder: [code, variety, available]

            Sonata\AdminBundle\Datagrid\DatagridMapper:
                add: ~
