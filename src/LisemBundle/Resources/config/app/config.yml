parameters:
    sonata.core.flashmessage.manager.class: Sil\Bundle\EcommerceBundle\Services\FlashManager

imports:
    - { resource: "@SilEcommerceBundle/Resources/config/app/state_machine.yml"}

sylius_theme:
    context: lisem.theme.context.channel_based
    sources:
        filesystem:
            enabled: true
            filename: composer.json
            directories:
                - "%kernel.project_dir%/src/LisemBundle/Resources/themes"


sylius_channel:
    driver: doctrine/orm
    resources:
        channel:
            classes:
                model: Librinfo\EcommerceBundle\Entity\Channel

sylius_money:
    locale: fr
    currency: EUR

sil_ecommerce:
    code_generator:
        product_variant: AppBundle\CodeGenerator\ProductVariantCodeGenerator
        product_variant_embedded: AppBundle\CodeGenerator\ProductVariantEmbeddedCodeGenerator

sylius_mailer:
    sender_adapter: lisem.sylius.email_sender.adapter
    sender:
        name: My LISem Company
        address: no-reply@my-lisem-company.com
    emails:
        test_email:
            subject: A new movie {{ movie.title }} has been submitted
            template: AppBundle:Email:testEmail.html.twig

sylius_product:
    driver: doctrine/orm
    resources:
        product:
            classes:
                interface: Sylius\Component\Product\Model\ProductInterface
                model: LisemBundle\Entity\SilEcommerceBundle\Product
        product_variant:
            classes:
                model: LisemBundle\Entity\SilEcommerceBundle\ProductVariant
        product_option:
            classes:
                model: Sil\Bundle\EcommerceBundle\Entity\ProductOption
        product_option_value:
            classes:
                model: LisemBundle\Entity\SilEcommerceBundle\ProductOptionValue

sylius_attribute:
    resources:
        product:
            subject: LisemBundle\Entity\SilEcommerceBundle\Product
            attribute:
                classes:
                    model: Sil\Bundle\EcommerceBundle\Entity\ProductAttribute

sylius_order:
    resources:
        order:
            classes:
                model: LisemBundle\Entity\SilEcommerceBundle\Order
        order_item:
            classes:
                model: Sil\Bundle\EcommerceBundle\Entity\OrderItem
                controller: Sil\Bundle\EcommerceBundle\Controller\SyliusOrderItemController

sylius_customer:
    driver: doctrine/orm
    resources:
        customer:
            classes:
                model: PlatformBundle\Entity\SilCRMBundle\Organism
        customer_group:
            classes:
                model: Sil\Bundle\EcommerceBundle\Entity\CustomerGroup

fos_rest:
    exception: ~
    view:
        formats:
            json: true
            xml:  true
        empty_content: 204

sylius_review:
    resources:
        product:
            subject: "%sylius.model.product.class%"
            review:
                classes:
                    model: Sil\Bundle\EcommerceBundle\Entity\ProductReview

sylius_taxation:
    resources:
        tax_rate:
            classes:
                model: Sil\Bundle\EcommerceBundle\Entity\TaxRate

sylius_addressing:
    resources:
        zone:
            classes:
                model: Sil\Bundle\EcommerceBundle\Entity\Zone

sylius_core:
    resources:
        product_image:
            classes:
                model: Sil\Bundle\EcommerceBundle\Entity\ProductImage

sylius_taxonomy:
    resources:
        taxon:
            classes:
                model: Sil\Bundle\EcommerceBundle\Entity\Taxon

sylius_shipping:
    driver: doctrine/orm
    resources:
        shipping_method:
            classes:
                model: Sil\Bundle\EcommerceBundle\Entity\ShippingMethod

sylius_payment:
    driver: doctrine/orm
    resources:
        payment:
            classes:
                model: Sil\Bundle\EcommerceBundle\Entity\Payment

sylius_shop:
    checkout_resolver:
        pattern: /checkout/.+
        route_map:
            empty_order:
                route: sylius_shop_cart_summary
            cart:
                route: sylius_shop_checkout_address_override
            addressed:
                route: sylius_shop_checkout_select_shipping
            shipping_selected:
                route: sylius_shop_checkout_select_payment
            shipping_skipped:
                route: sylius_shop_checkout_select_payment
            payment_selected:
                route: sylius_shop_checkout_complete
            payment_skipped:
                route: sylius_shop_checkout_complete

liip_imagine:
    filter_sets:
        sylius_shop_product_original: ~
        sylius_shop_product_tiny_thumbnail:
            filters:
                thumbnail: { size: [64, 64], mode: outbound, allow_upscale: true }
        sylius_shop_product_small_thumbnail:
            filters:
                thumbnail: { size: [150, 112], mode: outbound, allow_upscale: true }
        sylius_shop_product_thumbnail:
            filters:
                thumbnail: { size: [260, 260], mode: outbound, allow_upscale: true }
        sylius_shop_product_large_thumbnail:
            filters:
                thumbnail: { size: [550, 412], mode: outbound, allow_upscale: true }

knp_snappy:
    #process_timeout: 20 # In seconds
    pdf:
        enabled: true
        binary:  %kernel.project_dir%/vendor/h4cc/wkhtmltopdf-amd64/bin/wkhtmltopdf-amd64
        options: []
    image:
        enabled: false
        binary:  %kernel.project_dir%/vendor/h4cc/wkhtmltoimage-amd64/bin/wkhtmltoimage-amd64
        options: []

sil_crm:
    Circle:
        allow_positions: false  # default: false
        app_circles:
            -
                id: "d474c5df-49fa-460b-8951-dafff97bbfc4"
                code: "OC"
                name: "Organic Certificator"
                createdAt: "2017-04-18 18:02:02"
                type: "Autres"
            -
                id: "15af43f3-d41a-4b41-aca5-3e606af348d3"
                code: "JAP"
                name: "Jardiniers particuliers"
                createdAt: "2017-06-16 09:34:45"
                type: "Client"
            -
                id: "19c612b4-5057-4b68-9ab1-c6f037325c2a"
                code: "REV"
                name: "Revendeurs"
                createdAt: "2017-06-16 09:34:45"
                type: "Client"
            -
                id: "30405c5a-92ee-4307-9272-933df540207c"
                code: "MAR"
                name: "Maraichers"
                createdAt: "2017-06-16 09:34:45"
                type: "Client"
            -
                id: "aeef530e-63d7-4c9c-9904-5bb5c0913d44"
                code: "PAM"
                name: "Producteur aromatique"
                createdAt: "2017-06-16 09:34:45"
                type: "Client"
            -
                id: "fa1c96e1-8771-4c19-bd69-a81129c1d6e5"
                code: "PRP"
                name: "Producteur de plants"
                createdAt: "2017-06-16 09:34:45"
                type: "Client"
            -
                id: "8afb9575-4194-4b2b-aac7-3f80534d97a4"
                code: "PRF"
                name: "Professionnel"
                createdAt: "2017-06-16 09:34:45"
                type: "Client"
            -
                id: "568ced20-9356-4406-9bec-79d9a6ddb364"
                code: "SEM"
                name: "Semencier"
                createdAt: "2017-06-16 09:34:45"
                type: "Autres"
            -
                id: "d43330ff-b35e-4e9a-9386-ede38a9bac3c"
                code: "ASS"
                name: "Associations"
                createdAt: "2017-06-16 09:34:45"
                type: "Client"
            -
                id: "30db8307-c998-49d9-8b94-79c4ef47125c"
                code: "COL"
                name: "Collectivités territoriales"
                createdAt: "2017-06-16 09:34:45"
                type: "Client"
            -
                id: "d7418a43-0ec2-4a5f-a007-ca609266e3ca"
                code: "SEF"
                name: "Semencier fournisseur de semences"
                createdAt: "2017-06-16 09:34:45"
                type: "Fournisseur"
            -
                id: "24c6a133-ffa2-4546-8bfc-7c1c3b2fe5df"
                code: "COD"
                name: "Contacts divers"
                createdAt: "2017-06-16 09:34:45"
                type: "Autres"
            -
                id: "f4a3c026-6787-430f-a821-c1ca6a4a7056"
                code: "PRS"
                name: "Prestataire de services"
                createdAt: "2017-06-16 09:34:45"
                type: "Autres"
            -
                id: "b70c9588-2c17-4ccb-8bce-ae943da81d0b"
                code: "FOU"
                name: "Fournisseurs"
                createdAt: "2017-06-16 09:34:45"
                type: "Fournisseur"
            -
                id: "58cbfc7b-cf37-4bce-849d-43b23eff8d75"
                code: "PAR"
                name: "Partenaires"
                createdAt: "2017-06-16 09:34:45"
                type: "Autres"
            -
                id: "34cf030b-9a84-4e79-acf6-082968b7aa16"
                code: "ASE"
                name: "Associés au capital de l'entreprise"
                createdAt: "2017-06-16 09:34:45"
                type: "Autres"
            -
                id: "c904af0e-53b0-4f84-bfec-f907873831fa"
                code: "ADM"
                name: "Administrations"
                createdAt: "2017-06-16 09:34:45"
                type: "Client"
            -
                id: "3046da7a-b373-4969-80cd-a06e609ec957"
                code: "ORC"
                name: "Organismes de contrôle"
                createdAt: "2017-06-16 09:34:45"
                type: "Autres"
            -
                id: "a6ffd7cc-33be-4ae6-9475-c1bc736863e5"
                code: "RSP"
                name: "Réseau semences paysannes"
                createdAt: "2017-06-16 09:34:45"
                type: "Autres"
            -
                id: "4e319aff-0f32-4bcd-a4f0-655ce84381c8"
                code: "CDC"
                name: "Croqueurs de Carottes"
                createdAt: "2017-06-16 09:34:45"
                type: "Autres"
            -
                id: "21f63609-f86c-43fc-a720-59d764d9bf79"
                code: "SAL"
                name: "Salariés"
                createdAt: "2017-06-16 09:34:45"
                type: "Autres"
            -
                id: "9c401554-b5f0-4ade-9760-172e320ca25a"
                code: "STA"
                name: "Stagiaires"
                createdAt: "2017-06-16 09:34:45"
                type: "Autres"
            -
                id: "f3b959e9-9904-4de2-ae0b-fe2ede88e422"
                code: "PRE"
                name: "Presse"
                createdAt: "2017-06-16 09:34:45"
                type: "Autres"
            -
                id: "79e7b5c1-1ab3-4ea4-8273-134493d93cd2"
                code: "FOI"
                name: "Foire"
                createdAt: "2017-06-16 09:34:45"
                type: "Autres"
            -
                id: "d31cb244-bee4-43a3-ad74-988598d49ca2"
                code: "ESS"
                name: "Essais / tests"
                createdAt: "2017-06-16 09:34:45"
                type: "Autres"
            -
                id: "7e690a34-2a07-401b-9e49-e7f2e3d3f2c0"
                code: "AMI"
                name: "Amis médiateur"
                createdAt: "2017-06-16 09:34:45"
                type: "Autres"
            -
                id: "37630a06-b4bd-4659-929e-b6af10d70abc"
                code: "SIT"
                name: "Site relais"
                createdAt: "2017-06-16 09:34:45"
                type: "Autres"
            -
                id: "b907691c-963f-4a7c-9098-5a95335cf21d"
                code: "PRO"
                name: "Producteur de semences"
                createdAt: "2017-04-18 18:02:02"
                type: "Producteur"
